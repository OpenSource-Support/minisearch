<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>MiniSearch</title><meta name="description" content="Documentation for MiniSearch"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">MiniSearch</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>MiniSearch</h2></div><div class="tsd-panel tsd-typography"><a id="md:minisearch" class="tsd-anchor"></a><h1><a href="#md:minisearch">MiniSearch</a></h1><p><a href="https://github.com/lucaong/minisearch/actions"><img src="https://github.com/lucaong/minisearch/workflows/CI%20Build/badge.svg" alt="CI Build"></a>
<a href="https://coveralls.io/github/lucaong/minisearch?branch=master"><img src="https://coveralls.io/repos/github/lucaong/minisearch/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://bundlephobia.com/result?p=minisearch"><img src="https://badgen.net/bundlephobia/minzip/minisearch" alt="Minzipped Size"></a>
<a href="https://www.npmjs.com/package/minisearch"><img src="https://img.shields.io/npm/v/minisearch?color=%23ff00dd" alt="npm"></a>
<a href="https://www.npmjs.com/package/minisearch"><img src="https://img.shields.io/npm/dw/minisearch" alt="npm downloads"></a>
<a href="https://lucaong.github.io/minisearch/classes/MiniSearch.MiniSearch.html"><img src="https://img.shields.io/npm/types/minisearch" alt="types"></a></p>
<p><code>MiniSearch</code> is a tiny but powerful in-memory fulltext search engine written in
JavaScript. It is respectful of resources, and it can comfortably run both in
Node and in the browser.</p>
<p>Try out the <a href="https://lucaong.github.io/minisearch/demo/">demo application</a>.</p>
<p>Find the complete <a href="https://lucaong.github.io/minisearch/classes/MiniSearch.MiniSearch.html">documentation and API reference
here</a>,
and more background about <code>MiniSearch</code>, including a comparison with other
similar libraries, in <a href="https://lucaongaro.eu/blog/2019/01/30/minisearch-client-side-fulltext-search-engine.html">this blog
post</a>.</p>
<p><code>MiniSearch</code> follows <a href="https://semver.org/spec/v2.0.0.html">semantic versioning</a>,
and documents releases and changes in the
<a href="https://github.com/lucaong/minisearch/blob/master/CHANGELOG.md">changelog</a>.</p>
<a id="md:use-case" class="tsd-anchor"></a><h2><a href="#md:use-case">Use case</a></h2><p><code>MiniSearch</code> addresses use cases where full-text search features are needed
(e.g. prefix search, fuzzy search, ranking, boosting of fieldsâ€¦), but the data
to be indexed can fit locally in the process memory. While you won&#39;t index the
whole Internet with it, there are surprisingly many use cases that are served
well by <code>MiniSearch</code>. By storing the index in local memory, <code>MiniSearch</code> can
work offline, and can process queries quickly, without network latency.</p>
<p>A prominent use-case is real time search &quot;as you type&quot; in web and mobile
applications, where keeping the index on the client enables fast and reactive
UIs, removing the need to make requests to a search server.</p>
<a id="md:features" class="tsd-anchor"></a><h2><a href="#md:features">Features</a></h2><ul>
<li><p>Memory-efficient index, designed to support memory-constrained use cases
like mobile browsers.</p>
</li>
<li><p>Exact match, prefix search, fuzzy match, field boosting.</p>
</li>
<li><p>Auto-suggestion engine, for auto-completion of search queries.</p>
</li>
<li><p>Modern search result ranking algorithm.</p>
</li>
<li><p>Documents can be added and removed from the index at any time.</p>
</li>
<li><p>Zero external dependencies.</p>
</li>
</ul>
<p><code>MiniSearch</code> strives to expose a simple API that provides the building blocks to
build custom solutions, while keeping a small and well tested codebase.</p>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><p>With <code>npm</code>:</p>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">minisearch</span>
</code><button>Copy</button></pre>
<p>With <code>yarn</code>:</p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> </span><span class="hl-0">minisearch</span>
</code><button>Copy</button></pre>
<p>Then <code>require</code> or <code>import</code> it in your project:</p>
<pre><code class="language-javascript"><span class="hl-2">// If you are using import:</span><br/><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-0">MiniSearch</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;minisearch&#39;</span><br/><br/><span class="hl-2">// If you are using require:</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">MiniSearch</span><span class="hl-1"> = </span><span class="hl-7">require</span><span class="hl-1">(</span><span class="hl-4">&#39;minisearch&#39;</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>Alternatively, if you prefer to use a <code>&lt;script&gt;</code> tag, you can require MiniSearch
<a href="https://www.jsdelivr.com/package/npm/minisearch">from a CDN</a>:</p>
<pre><code class="language-html"><span class="hl-8">&lt;</span><span class="hl-9">script</span><span class="hl-10"> </span><span class="hl-11">src</span><span class="hl-10">=</span><span class="hl-12">&quot;https://cdn.jsdelivr.net/npm/minisearch@7.2.0/dist/umd/index.min.js&quot;</span><span class="hl-8">&gt;&lt;/</span><span class="hl-9">script</span><span class="hl-8">&gt;</span>
</code><button>Copy</button></pre>
<p>In this case, <code>MiniSearch</code> will appear as a global variable in your project.</p>
<p>Finally, if you want to manually build the library, clone the repository and run
<code>yarn build</code> (or <code>yarn build-minified</code> for a minified version + source maps).
The compiled source will be created in the <code>dist</code> folder (UMD, ES6 and ES2015
module versions are provided).</p>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><a id="md:basic-usage" class="tsd-anchor"></a><h3><a href="#md:basic-usage">Basic usage</a></h3><pre><code class="language-javascript"><span class="hl-2">// A collection of documents for our examples</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">documents</span><span class="hl-1"> = [</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-13">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&#39;Moby Dick&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;Call me Ishmael. Some years ago...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">category:</span><span class="hl-1"> </span><span class="hl-4">&#39;fiction&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-13">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&#39;Zen and the Art of Motorcycle Maintenance&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;I can see by my watch...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">category:</span><span class="hl-1"> </span><span class="hl-4">&#39;fiction&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-13">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&#39;Neuromancer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;The sky above the port was...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">category:</span><span class="hl-1"> </span><span class="hl-4">&#39;fiction&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-13">4</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&#39;Zen and the Art of Archery&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;At first sight it must seem...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">category:</span><span class="hl-1"> </span><span class="hl-4">&#39;non-fiction&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-2">// ...and more</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">miniSearch</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">MiniSearch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">fields:</span><span class="hl-1"> [</span><span class="hl-4">&#39;title&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;text&#39;</span><span class="hl-1">], </span><span class="hl-2">// fields to index for full-text search</span><br/><span class="hl-1">  </span><span class="hl-0">storeFields:</span><span class="hl-1"> [</span><span class="hl-4">&#39;title&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;category&#39;</span><span class="hl-1">] </span><span class="hl-2">// fields to return with search results</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-2">// Index all documents</span><br/><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">addAll</span><span class="hl-1">(</span><span class="hl-0">documents</span><span class="hl-1">)</span><br/><br/><span class="hl-2">// Search with default options</span><br/><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">results</span><span class="hl-1"> = </span><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">search</span><span class="hl-1">(</span><span class="hl-4">&#39;zen art motorcycle&#39;</span><span class="hl-1">)</span><br/><span class="hl-2">// =&gt; [</span><br/><span class="hl-2">//   { id: 2, title: &#39;Zen and the Art of Motorcycle Maintenance&#39;, category: &#39;fiction&#39;, score: 2.77258, match: { ... } },</span><br/><span class="hl-2">//   { id: 4, title: &#39;Zen and the Art of Archery&#39;, category: &#39;non-fiction&#39;, score: 1.38629, match: { ... } }</span><br/><span class="hl-2">// ]</span>
</code><button>Copy</button></pre>
<a id="md:search-options" class="tsd-anchor"></a><h3><a href="#md:search-options">Search options</a></h3><p><code>MiniSearch</code> supports several options for more advanced search behavior:</p>
<pre><code class="language-javascript"><span class="hl-2">// Search only specific fields</span><br/><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">search</span><span class="hl-1">(</span><span class="hl-4">&#39;zen&#39;</span><span class="hl-1">, { </span><span class="hl-0">fields:</span><span class="hl-1"> [</span><span class="hl-4">&#39;title&#39;</span><span class="hl-1">] })</span><br/><br/><span class="hl-2">// Boost some fields (here &quot;title&quot;)</span><br/><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">search</span><span class="hl-1">(</span><span class="hl-4">&#39;zen&#39;</span><span class="hl-1">, { </span><span class="hl-0">boost:</span><span class="hl-1"> { </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-13">2</span><span class="hl-1"> } })</span><br/><br/><span class="hl-2">// Prefix search (so that &#39;moto&#39; will match &#39;motorcycle&#39;)</span><br/><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">search</span><span class="hl-1">(</span><span class="hl-4">&#39;moto&#39;</span><span class="hl-1">, { </span><span class="hl-0">prefix:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><br/><span class="hl-2">// Search within a specific category</span><br/><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">search</span><span class="hl-1">(</span><span class="hl-4">&#39;zen&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-7">filter</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">result</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">result</span><span class="hl-1">.</span><span class="hl-0">category</span><span class="hl-1"> === </span><span class="hl-4">&#39;fiction&#39;</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-2">// Fuzzy search, in this example, with a max edit distance of 0.2 * term length,</span><br/><span class="hl-2">// rounded to nearest integer. The mispelled &#39;ismael&#39; will match &#39;ishmael&#39;.</span><br/><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">search</span><span class="hl-1">(</span><span class="hl-4">&#39;ismael&#39;</span><span class="hl-1">, { </span><span class="hl-0">fuzzy:</span><span class="hl-1"> </span><span class="hl-13">0.2</span><span class="hl-1"> })</span><br/><br/><span class="hl-2">// You can set the default search options upon initialization</span><br/><span class="hl-0">miniSearch</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">MiniSearch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">fields:</span><span class="hl-1"> [</span><span class="hl-4">&#39;title&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;text&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-0">searchOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">boost:</span><span class="hl-1"> { </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-13">2</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-0">fuzzy:</span><span class="hl-1"> </span><span class="hl-13">0.2</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span><br/><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">addAll</span><span class="hl-1">(</span><span class="hl-0">documents</span><span class="hl-1">)</span><br/><br/><span class="hl-2">// It will now by default perform fuzzy search and boost &quot;title&quot;:</span><br/><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">search</span><span class="hl-1">(</span><span class="hl-4">&#39;zen and motorcycles&#39;</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<a id="md:auto-suggestions" class="tsd-anchor"></a><h3><a href="#md:auto-suggestions">Auto suggestions</a></h3><p><code>MiniSearch</code> can suggest search queries given an incomplete query:</p>
<pre><code class="language-javascript"><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">autoSuggest</span><span class="hl-1">(</span><span class="hl-4">&#39;zen ar&#39;</span><span class="hl-1">)</span><br/><span class="hl-2">// =&gt; [ { suggestion: &#39;zen archery art&#39;, terms: [ &#39;zen&#39;, &#39;archery&#39;, &#39;art&#39; ], score: 1.73332 },</span><br/><span class="hl-2">//      { suggestion: &#39;zen art&#39;, terms: [ &#39;zen&#39;, &#39;art&#39; ], score: 1.21313 } ]</span>
</code><button>Copy</button></pre>
<p>The <code>autoSuggest</code> method takes the same options as the <code>search</code> method, so you
can get suggestions for misspelled words using fuzzy search:</p>
<pre><code class="language-javascript"><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">autoSuggest</span><span class="hl-1">(</span><span class="hl-4">&#39;neromancer&#39;</span><span class="hl-1">, { </span><span class="hl-0">fuzzy:</span><span class="hl-1"> </span><span class="hl-13">0.2</span><span class="hl-1"> })</span><br/><span class="hl-2">// =&gt; [ { suggestion: &#39;neuromancer&#39;, terms: [ &#39;neuromancer&#39; ], score: 1.03998 } ]</span>
</code><button>Copy</button></pre>
<p>Suggestions are ranked by the relevance of the documents that would be returned
by that search.</p>
<p>Sometimes, you might need to filter auto suggestions to, say, only a specific
category. You can do so by providing a <code>filter</code> option:</p>
<pre><code class="language-javascript"><span class="hl-0">miniSearch</span><span class="hl-1">.</span><span class="hl-7">autoSuggest</span><span class="hl-1">(</span><span class="hl-4">&#39;zen ar&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-7">filter</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">result</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">result</span><span class="hl-1">.</span><span class="hl-0">category</span><span class="hl-1"> === </span><span class="hl-4">&#39;fiction&#39;</span><br/><span class="hl-1">})</span><br/><span class="hl-2">// =&gt; [ { suggestion: &#39;zen art&#39;, terms: [ &#39;zen&#39;, &#39;art&#39; ], score: 1.21313 } ]</span>
</code><button>Copy</button></pre>
<a id="md:field-extraction" class="tsd-anchor"></a><h3><a href="#md:field-extraction">Field extraction</a></h3><p>By default, documents are assumed to be plain key-value objects with field names
as keys and field values as simple values. In order to support custom field
extraction logic (for example for nested fields, or non-string field values that
need processing before tokenization), a custom field extractor function can be
passed as the <code>extractField</code> option:</p>
<pre><code class="language-javascript"><span class="hl-2">// Assuming that our documents look like:</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">documents</span><span class="hl-1"> = [</span><br/><span class="hl-1">  { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-13">1</span><span class="hl-1">, </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&#39;Moby Dick&#39;</span><span class="hl-1">, </span><span class="hl-0">author:</span><span class="hl-1"> { </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-4">&#39;Herman Melville&#39;</span><span class="hl-1"> }, </span><span class="hl-0">pubDate:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Date</span><span class="hl-1">(</span><span class="hl-13">1851</span><span class="hl-1">, </span><span class="hl-13">9</span><span class="hl-1">, </span><span class="hl-13">18</span><span class="hl-1">) },</span><br/><span class="hl-1">  { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-13">2</span><span class="hl-1">, </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&#39;Zen and the Art of Motorcycle Maintenance&#39;</span><span class="hl-1">, </span><span class="hl-0">author:</span><span class="hl-1"> { </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-4">&#39;Robert Pirsig&#39;</span><span class="hl-1"> }, </span><span class="hl-0">pubDate:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Date</span><span class="hl-1">(</span><span class="hl-13">1974</span><span class="hl-1">, </span><span class="hl-13">3</span><span class="hl-1">, </span><span class="hl-13">1</span><span class="hl-1">) },</span><br/><span class="hl-1">  { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-13">3</span><span class="hl-1">, </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&#39;Neuromancer&#39;</span><span class="hl-1">, </span><span class="hl-0">author:</span><span class="hl-1"> { </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-4">&#39;William Gibson&#39;</span><span class="hl-1"> }, </span><span class="hl-0">pubDate:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Date</span><span class="hl-1">(</span><span class="hl-13">1984</span><span class="hl-1">, </span><span class="hl-13">6</span><span class="hl-1">, </span><span class="hl-13">1</span><span class="hl-1">) },</span><br/><span class="hl-1">  { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-13">4</span><span class="hl-1">, </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&#39;Zen in the Art of Archery&#39;</span><span class="hl-1">, </span><span class="hl-0">author:</span><span class="hl-1"> { </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-4">&#39;Eugen Herrigel&#39;</span><span class="hl-1"> }, </span><span class="hl-0">pubDate:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Date</span><span class="hl-1">(</span><span class="hl-13">1948</span><span class="hl-1">, </span><span class="hl-13">0</span><span class="hl-1">, </span><span class="hl-13">1</span><span class="hl-1">) },</span><br/><span class="hl-1">  </span><span class="hl-2">// ...and more</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-2">// We can support nested fields (author.name) and date fields (pubDate) with a</span><br/><span class="hl-2">// custom `extractField` function:</span><br/><br/><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">miniSearch</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">MiniSearch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">fields:</span><span class="hl-1"> [</span><span class="hl-4">&#39;title&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;author.name&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;pubYear&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-7">extractField</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">document</span><span class="hl-1">, </span><span class="hl-0">fieldName</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">// If field name is &#39;pubYear&#39;, extract just the year from &#39;pubDate&#39;</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-0">fieldName</span><span class="hl-1"> === </span><span class="hl-4">&#39;pubYear&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">pubDate</span><span class="hl-1"> = </span><span class="hl-0">document</span><span class="hl-1">[</span><span class="hl-4">&#39;pubDate&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">      </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">pubDate</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">pubDate</span><span class="hl-1">.</span><span class="hl-7">getFullYear</span><span class="hl-1">().</span><span class="hl-7">toString</span><span class="hl-1">()</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-2">// Access nested fields</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">fieldName</span><span class="hl-1">.</span><span class="hl-7">split</span><span class="hl-1">(</span><span class="hl-4">&#39;.&#39;</span><span class="hl-1">).</span><span class="hl-7">reduce</span><span class="hl-1">((</span><span class="hl-0">doc</span><span class="hl-1">, </span><span class="hl-0">key</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">doc</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">doc</span><span class="hl-1">[</span><span class="hl-0">key</span><span class="hl-1">], </span><span class="hl-0">document</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<p>The default field extractor can be obtained by calling
<code>MiniSearch.getDefault(&#39;extractField&#39;)</code>.</p>
<a id="md:tokenization" class="tsd-anchor"></a><h3><a href="#md:tokenization">Tokenization</a></h3><p>By default, documents are tokenized by splitting on Unicode space or punctuation
characters. The tokenization logic can be easily changed by passing a custom
tokenizer function as the <code>tokenize</code> option:</p>
<pre><code class="language-javascript"><span class="hl-2">// Tokenize splitting by hyphen</span><br/><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">miniSearch</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">MiniSearch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">fields:</span><span class="hl-1"> [</span><span class="hl-4">&#39;title&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;text&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-7">tokenize</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">string</span><span class="hl-1">, </span><span class="hl-0">_fieldName</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">.</span><span class="hl-7">split</span><span class="hl-1">(</span><span class="hl-4">&#39;-&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<p>Upon search, the same tokenization is used by default, but it is possible to
pass a <code>tokenize</code> search option in case a different search-time tokenization is
necessary:</p>
<pre><code class="language-javascript"><span class="hl-2">// Tokenize splitting by hyphen</span><br/><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">miniSearch</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">MiniSearch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">fields:</span><span class="hl-1"> [</span><span class="hl-4">&#39;title&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;text&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-7">tokenize</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">string</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">.</span><span class="hl-7">split</span><span class="hl-1">(</span><span class="hl-4">&#39;-&#39;</span><span class="hl-1">), </span><span class="hl-2">// indexing tokenizer</span><br/><span class="hl-1">  </span><span class="hl-0">searchOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">tokenize</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">string</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">.</span><span class="hl-7">split</span><span class="hl-1">(</span><span class="hl-14">/</span><span class="hl-15">[</span><span class="hl-14">\s-</span><span class="hl-15">]</span><span class="hl-16">+</span><span class="hl-14">/</span><span class="hl-1">) </span><span class="hl-2">// search query tokenizer</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<p>The default tokenizer can be obtained by calling
<code>MiniSearch.getDefault(&#39;tokenize&#39;)</code>.</p>
<a id="md:term-processing" class="tsd-anchor"></a><h3><a href="#md:term-processing">Term processing</a></h3><p>Terms are downcased by default. No stemming is performed, and no stop-word list
is applied. To customize how the terms are processed upon indexing, for example
to normalize them, filter them, or to apply stemming, the <code>processTerm</code> option
can be used. The <code>processTerm</code> function should return the processed term as a
string, or a falsy value if the term should be discarded:</p>
<pre><code class="language-javascript"><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">stopWords</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Set</span><span class="hl-1">([</span><span class="hl-4">&#39;and&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;or&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;to&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;in&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;a&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;the&#39;</span><span class="hl-1">, </span><span class="hl-2">/* ...and more */</span><span class="hl-1"> ])</span><br/><br/><span class="hl-2">// Perform custom term processing (here discarding stop words and downcasing)</span><br/><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">miniSearch</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">MiniSearch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">fields:</span><span class="hl-1"> [</span><span class="hl-4">&#39;title&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;text&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-7">processTerm</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">term</span><span class="hl-1">, </span><span class="hl-0">_fieldName</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">stopWords</span><span class="hl-1">.</span><span class="hl-7">has</span><span class="hl-1">(</span><span class="hl-0">term</span><span class="hl-1">) ? </span><span class="hl-5">null</span><span class="hl-1"> : </span><span class="hl-0">term</span><span class="hl-1">.</span><span class="hl-7">toLowerCase</span><span class="hl-1">()</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<p>By default, the same processing is applied to search queries. In order to apply
a different processing to search queries, supply a <code>processTerm</code> search option:</p>
<pre><code class="language-javascript"><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">miniSearch</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">MiniSearch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">fields:</span><span class="hl-1"> [</span><span class="hl-4">&#39;title&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;text&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-7">processTerm</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">term</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">stopWords</span><span class="hl-1">.</span><span class="hl-7">has</span><span class="hl-1">(</span><span class="hl-0">term</span><span class="hl-1">) ? </span><span class="hl-5">null</span><span class="hl-1"> : </span><span class="hl-0">term</span><span class="hl-1">.</span><span class="hl-7">toLowerCase</span><span class="hl-1">(), </span><span class="hl-2">// index term processing</span><br/><span class="hl-1">  </span><span class="hl-0">searchOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">processTerm</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">term</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">term</span><span class="hl-1">.</span><span class="hl-7">toLowerCase</span><span class="hl-1">() </span><span class="hl-2">// search query processing</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span>
</code><button>Copy</button></pre>
<p>The default term processor can be obtained by calling
<code>MiniSearch.getDefault(&#39;processTerm&#39;)</code>.</p>
<a id="md:api-documentation" class="tsd-anchor"></a><h3><a href="#md:api-documentation">API Documentation</a></h3><p>Refer to the <a href="https://lucaong.github.io/minisearch/classes/MiniSearch.MiniSearch.html">API
documentation</a>
for details about configuration options and methods.</p>
<a id="md:browser-and-node-compatibility" class="tsd-anchor"></a><h2><a href="#md:browser-and-node-compatibility">Browser and Node compatibility</a></h2><p><code>MiniSearch</code> supports all browsers and NodeJS versions implementing the ES9
(ES2018) JavaScript standard. That includes all modern browsers and NodeJS
versions.</p>
<p>ES6 (ES2015) compatibility can be achieved by transpiling the tokenizer RegExp
to expand Unicode character class escapes, for example with
<a href="https://babeljs.io/docs/babel-plugin-transform-unicode-sets-regex">https://babeljs.io/docs/babel-plugin-transform-unicode-sets-regex</a>.</p>
<a id="md:contributing" class="tsd-anchor"></a><h2><a href="#md:contributing">Contributing</a></h2><p>Contributions to <code>MiniSearch</code> are welcome. Please read the <a href="https://github.com/lucaong/minisearch/blob/master/CONTRIBUTING.md">contributions
guidelines</a>.
Reading the <a href="https://github.com/lucaong/minisearch/blob/master/DESIGN_DOCUMENT.md">design
document</a> is
also useful to understand the project goals and the technical implementation.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:minisearch"><span>Mini<wbr/>Search</span></a><ul><li><a href="#md:use-case"><span>Use case</span></a></li><li><a href="#md:features"><span>Features</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><ul><li><a href="#md:basic-usage"><span>Basic usage</span></a></li><li><a href="#md:search-options"><span>Search options</span></a></li><li><a href="#md:auto-suggestions"><span>Auto suggestions</span></a></li><li><a href="#md:field-extraction"><span>Field extraction</span></a></li><li><a href="#md:tokenization"><span>Tokenization</span></a></li><li><a href="#md:term-processing"><span>Term processing</span></a></li><li><a href="#md:api-documentation"><span>API <wbr/>Documentation</span></a></li></ul></li><li><a href="#md:browser-and-node-compatibility"><span>Browser and <wbr/>Node compatibility</span></a></li><li><a href="#md:contributing"><span>Contributing</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>MiniSearch</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>